# 京东购物自动化任务规则

## 任务拆解为以下具体的步骤：

1. 打开京东网站
   - 使用Playwright导航到京东首页
   - 确认页面加载完成

2. 搜索指定商品
   - 定位搜索框并输入商品名称
   - 点击搜索按钮
   - 等待搜索结果加载完成

3. 提供多种选择
   - 分析搜索结果页面的商品列表
   - 根据用户订单历史和偏好进行推荐
   - 展示至少3-5款不同品牌、价格区间的商品选择
   - 提供每款商品的关键信息（品牌、价格、特点、评分等）

4. 等待用户指令
   - 接收用户的选择（可以是序号、品牌名或具体描述）
   - 确认用户选择的商品

5. 商品详情页操作
   - 打开用户选择的商品详情页
   - 分析商品详情、价格、促销信息
   - 选择商品规格（如有）
   - 选择购买数量（默认为1）

6. 立即购买流程
   - 点击"立即购买"按钮（优先）或"加入购物车"按钮
   - 处理可能出现的登录请求
   - 处理可能出现的403错误或其他异常情况

7. 结算与下单
   - 在结算页面确认订单信息
   - 应用可用的优惠券
   - 选择配送方式和支付方式
   - 点击"提交订单"按钮
   - 确认订单提交成功并获取订单号

8. 记录购买信息
   - 记录订单号、商品信息、价格、预计送达时间等
   - 更新user_history.md文件
   - 提交更改到Git仓库并推送到GitHub

## 异常处理规则

1. 登录问题
   - 如遇需要登录的情况，提示用户登录状态
   - 在模拟环境中，可视为流程已完成

2. 403错误处理
   - 遇到403 Forbidden错误时，记录当前状态
   - 在模拟环境中，可视为订单已提交

3. 商品无货或不可购买
   - 提供替代商品建议
   - 询问用户是否选择其他商品
